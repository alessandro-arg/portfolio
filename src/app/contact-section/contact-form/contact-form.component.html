<div class="form_container">
  <form (ngSubmit)="onSubmit(contactFrom)" #contactFrom="ngForm">
    <div
      class="name_wrapper"
      [class.invalid]="!showInputName && isNameInvalid(name)"
    >
      <label
        class="name_label"
        [class.invalid]="!showInputName && isNameInvalid(name)"
        for="name"
      >
        What's your name?</label
      >
      <input
        [(ngModel)]="contactData.name"
        onfocus="this.placeholder=''"
        #nameInput
        #name="ngModel"
        minlength="4"
        type="text"
        id="name"
        name="name"
        placeholder="Your name goes here"
        required
        (blur)="onInputBlurName(name)"
        [hidden]="!showInputName && isNameInvalid(name)"
      />
      @if (!showInputName && isNameInvalid(name)) {
      <span class="input_error" (click)="onShowInputName()">
        Oops! it seems your name is missing
      </span>
      }
    </div>
    <div
      class="email_wrapper"
      [class.invalid]="!showInputEmail && isEmailInvalid(email)"
    >
      <label
        class="email_label"
        [class.invalid]="!showInputEmail && isEmailInvalid(email)"
        for="email"
        >What's your email?</label
      >
      <input
        [(ngModel)]="contactData.email"
        onfocus="this.placeholder=''"
        #emailInput
        #email="ngModel"
        type="email"
        id="email"
        name="email"
        placeholder="youremail@email.com"
        pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}"
        required
        (blur)="onInputBlurEmail(email)"
        [hidden]="!showInputEmail && isEmailInvalid(email)"
      />
      @if (!showInputEmail && isEmailInvalid(email)) {
      <span class="input_error" (click)="onShowInputEmail()">
        Hoppla! your email is required
      </span>
      }
    </div>
    <div
      class="message_wrapper"
      [class.invalid]="!showInputMessage && isMessageInvalid(message)"
    >
      <label
        class="message_label"
        [class.invalid]="!showInputMessage && isMessageInvalid(message)"
        for="message"
        >How can I help you?</label
      >
      <input
        [(ngModel)]="contactData.message"
        onfocus="this.placeholder=''"
        #messageInput
        #message="ngModel"
        minlength="8"
        type="text"
        id="message"
        name="message"
        placeholder="Hello Alessandro, I am interested in..."
        required
        (blur)="onInputBlurMessage(message)"
        [hidden]="!showInputMessage && isMessageInvalid(message)"
      />
      @if (!showInputMessage && isMessageInvalid(message)) {
      <span class="input_error" (click)="onShowInputMessage()">
        What do you need to develop?
      </span>
      }
    </div>
    <div class="checkbox_wrapper">
      <div class="checkbox_box">
        <input
          #checkbox="ngModel"
          [(ngModel)]="contactData.checkbox"
          type="checkbox"
          id="checkbox"
          name="checkbox"
          required
        />
        <span class="custom_checkbox"></span>
      </div>
      <label class="checkbox_label" for="checkbox">
        I've read the <a href="">privacy policy</a> and agree to the processing
        of my data as outlined.
      </label>
    </div>
    <span
      class="checkbox_error"
      [class.visible]="!checkbox.valid && (checkbox.touched || checkbox.dirty)"
      >Please accept the privacy policy.</span
    >
    <input
      type="submit"
      value="Send"
      [class.disabled]="!checkbox.valid"
      [disabled]="!checkbox.valid"
    />
  </form>
</div>
